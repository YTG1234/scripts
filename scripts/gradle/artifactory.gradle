buildscript {
	repositories {
		jcenter()
	}
	dependencies {
		classpath("org.jfrog.buildinfo:build-info-extractor-gradle:4.+")
	}
}

apply plugin: "com.jfrog.artifactory"

if (project."artifactory.url" != null && project."artifactory.repo" != null && project."artifactory.user" != null && project."artifactory.password" != null) {
	project.artifactory {
		contextUrl = project"artifactory.url"
		publish {
    		repository {
				repoKey = project."artifactory.repo"
				username = project."artifactory.user"
				password = project."artifactory.password"
    		}
    		defaults {
				publications(project."artifactory.publications" != null ? project."artifactory.publications".split(",") : "mavenJava")
				publishArtifacts = true
				publishPom = true
    		}
		}
	}
}
